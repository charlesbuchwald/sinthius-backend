<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<style>
/* 
Name: Github ReadMe style for Mou app
Version: v1.1
Author: hzlzh(hzlzh.dev@gmail.com)
URL: https://github.com/hzlzh/Mou-Theme
*/
@charset "UTF-8";
html {
    font-family: sans-serif;
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%
}

body {
    margin: 0
}

article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary {
    display: block
}

audio,canvas,progress,video {
    display: inline-block;
    vertical-align: baseline
}

audio:not([controls]) {
    display: none;
    height: 0
}

[hidden],template {
    display: none
}

a {
    background: transparent
}

a:active,a:hover {
    outline: 0
}

abbr[title] {
    border-bottom: 1px dotted
}

b,strong {
    font-weight: bold
}

dfn {
    font-style: italic
}

h1 {
    font-size: 2em;
    margin: 0.67em 0
}

mark {
    background: #ff0;
    color: #000
}

small {
    font-size: 80%
}

sub,sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline
}

sup {
    top: -0.5em
}

sub {
    bottom: -0.25em
}

img {
    border: 0
}

svg:not(:root) {
    overflow: hidden
}

figure {
    margin: 1em 40px
}

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0
}

pre {
    overflow: auto
}

code,kbd,pre,samp {
    font-family: monospace, monospace;
    font-size: 1em
}

button,input,optgroup,select,textarea {
    color: inherit;
    font: inherit;
    margin: 0
}

button {
    overflow: visible
}

button,select {
    text-transform: none
}

button,html input[type="button"],input[type="reset"],input[type="submit"] {
    -webkit-appearance: button;
    cursor: pointer
}

button[disabled],html input[disabled] {
    cursor: default
}

button::-moz-focus-inner,input::-moz-focus-inner {
    border: 0;
    padding: 0
}

input {
    line-height: normal
}

input[type="checkbox"],input[type="radio"] {
    box-sizing: border-box;
    padding: 0
}

input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button {
    height: auto
}

input[type="search"] {
    -webkit-appearance: textfield;
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box;
    box-sizing: content-box
}

input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none
}

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em
}

legend {
    border: 0;
    padding: 0
}

textarea {
    overflow: auto
}

optgroup {
    font-weight: bold
}

table {
    border-collapse: collapse;
    border-spacing: 0
}

td,th {
    padding: 0
}

* {
    -moz-box-sizing: border-box;
    box-sizing: border-box
}

input,select,textarea,button {
    font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"
}

body {
    padding: 30px;
    max-width: 858px;
    margin: 0 auto;
    font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
    color: #333;
    background-color: #fff
}

a {
    color: #4183c4;
    text-decoration: none
}

a:hover,a:focus,a:active {
    text-decoration: underline
}

hr,.rule {
    height: 0;
    margin: 15px 0;
    overflow: hidden;
    background: transparent;
    border: 0;
    border-bottom: 1px solid #ddd
}

hr:before,.rule:before {
    display: table;
    content: ""
}

hr:after,.rule:after {
    display: table;
    clear: both;
    content: ""
}

fieldset {
    padding: 0;
    margin: 0;
    border: 0
}

label {
    font-size: 13px;
    font-weight: bold
}

input[type="text"],#adv_code_search .search-page-label,input[type="password"],input[type="email"],input[type="number"],input[type="tel"],input[type="url"],textarea {
    min-height: 34px;
    padding: 7px 8px;
    font-size: 13px;
    color: #333;
    vertical-align: middle;
    background-color: #fff;
    background-repeat: no-repeat;
    background-position: right center;
    border: 1px solid #ccc;
    border-radius: 3px;
    outline: none;
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.075)
}

input[type="text"].focus,#adv_code_search .focus.search-page-label,input[type="text"]:focus,.focused .drag-and-drop,#adv_code_search .search-page-label:focus,input[type="password"].focus,input[type="password"]:focus,input[type="email"].focus,input[type="email"]:focus,input[type="number"].focus,input[type="number"]:focus,input[type="tel"].focus,input[type="tel"]:focus,input[type="url"].focus,input[type="url"]:focus,textarea.focus,textarea:focus {
    border-color: #51a7e8;
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.075),0 0 5px rgba(81,167,232,0.5)
}

input.input-contrast,.input-contrast {
    background-color: #fafafa
}

input.input-contrast:focus,.input-contrast:focus {
    background-color: #fff
}

::-webkit-input-placeholder,:-moz-placeholder {
    color: #aaa
}

::-webkit-validation-bubble-message {
    font-size: 12px;
    color: #fff;
    background: #9c2400;
    border: 0;
    border-radius: 3px;
    -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.1)
}

input::-webkit-validation-bubble-icon {
    display: none
}

::-webkit-validation-bubble-arrow {
    background-color: #9c2400;
    border: solid 1px #9c2400;
    -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,0.1)
}

body{
    font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
    font-size: 16px;
    line-height: 1.6;
    word-wrap: break-word
}

body>*:first-child {
    margin-top: 0 !important
}

body>*:last-child {
    margin-bottom: 0 !important
}

.absent {
    color: #c00
}

.anchor {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    display: block;
    padding-right: 6px;
    padding-left: 30px;
    margin-left: -30px
}

.anchor:focus {
    outline: none
}

h1,h2,h3,h4,h5,h6 {
    position: relative;
    margin-top: 1em;
    margin-bottom: 16px;
    font-weight: bold;
    line-height: 1.4
}

h1 .octicon-link,h2 .octicon-link,h3 .octicon-link,h4 .octicon-link,h5 .octicon-link,h6 .octicon-link {
    display: none;
    color: #000;
    vertical-align: middle
}

h1:hover .anchor,h2:hover .anchor,h3:hover .anchor,h4:hover .anchor,h5:hover .anchor,h6:hover .anchor {
    height: 1em;
    padding-left: 8px;
    margin-left: -30px;
    line-height: 1;
    text-decoration: none
}

h1:hover .anchor .octicon-link,h2:hover .anchor .octicon-link,h3:hover .anchor .octicon-link,h4:hover .anchor .octicon-link,h5:hover .anchor .octicon-link,h6:hover .anchor .octicon-link {
    display: inline-block
}

h1 tt,h1 code,h2 tt,h2 code,h3 tt,h3 code,h4 tt,h4 code,h5 tt,h5 code,h6 tt,h6 code {
    font-size: inherit
}

h1 {
    padding-bottom: 0.3em;
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee
}

h2 {
    padding-bottom: 0.3em;
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee
}

h3 {
    font-size: 1.5em;
    line-height: 1.43
}

h4 {
    font-size: 1.25em
}

h5 {
    font-size: 1em
}

h6 {
    font-size: 1em;
    color: #777
}

p,blockquote,ul,ol,dl,table,pre {
    margin-top: 0;
    margin-bottom: 16px
}

hr {
    height: 4px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none
}

ul,ol {
    padding-left: 2em
}

ul.no-list,ol.no-list {
    padding: 0;
    list-style-type: none
}

ul ul,ul ol,ol ol,ol ul {
    margin-top: 0;
    margin-bottom: 0
}

li>p {
    margin-top: 16px
}

dl {
    padding: 0
}

dl dt {
    padding: 0;
    margin-top: 16px;
    font-size: 1em;
    font-style: italic;
    font-weight: bold
}

dl dd {
    padding: 0 16px;
    margin-bottom: 16px
}

blockquote {
    padding: 0 15px;
    color: #777;
    border-left: 4px solid #ddd
}

blockquote>:first-child {
    margin-top: 0
}

blockquote>:last-child {
    margin-bottom: 0
}

table {
    display: block;
    width: 100%;
    overflow: auto;
    word-break: normal;
    word-break: keep-all
}

table th {
    font-weight: bold
}

table th,table td {
    padding: 6px 13px;
    border: 1px solid #ddd
}

table tr {
    background-color: #fff;
    border-top: 1px solid #ccc
}

table tr:nth-child(2n) {
    background-color: #f8f8f8
}

img {
    max-width: 100%;
    -moz-box-sizing: border-box;
    box-sizing: border-box
}

span.frame {
    display: block;
    overflow: hidden
}

span.frame>span {
    display: block;
    float: left;
    width: auto;
    padding: 7px;
    margin: 13px 0 0;
    overflow: hidden;
    border: 1px solid #ddd
}

span.frame span img {
    display: block;
    float: left
}

span.frame span span {
    display: block;
    padding: 5px 0 0;
    clear: both;
    color: #333
}

span.align-center {
    display: block;
    overflow: hidden;
    clear: both
}

span.align-center>span {
    display: block;
    margin: 13px auto 0;
    overflow: hidden;
    text-align: center
}

span.align-center span img {
    margin: 0 auto;
    text-align: center
}

span.align-right {
    display: block;
    overflow: hidden;
    clear: both
}

span.align-right>span {
    display: block;
    margin: 13px 0 0;
    overflow: hidden;
    text-align: right
}

span.align-right span img {
    margin: 0;
    text-align: right
}

span.float-left {
    display: block;
    float: left;
    margin-right: 13px;
    overflow: hidden
}

span.float-left span {
    margin: 13px 0 0
}

span.float-right {
    display: block;
    float: right;
    margin-left: 13px;
    overflow: hidden
}

span.float-right>span {
    display: block;
    margin: 13px auto 0;
    overflow: hidden;
    text-align: right
}

code,tt {
    padding: 0;
    padding-top: 0.2em;
    padding-bottom: 0.2em;
    margin: 0;
    font-size: 85%;
    background-color: rgba(0,0,0,0.04);
    border-radius: 3px
}

code:before,code:after,tt:before,tt:after {
    letter-spacing: -0.2em;
    content: "\00a0"
}

code br,tt br {
    display: none
}

del code {
    text-decoration: inherit;
    vertical-align: text-top
}

pre>code {
    padding: 0;
    margin: 0;
    font-size: 100%;
    word-break: normal;
    white-space: pre;
    background: transparent;
    border: 0
}

.highlight {
    margin-bottom: 16px
}

.highlight pre,pre {
    padding: 16px;
    overflow: auto;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border-radius: 3px
}

.highlight pre {
    margin-bottom: 0;
    word-break: normal
}

pre {
    word-wrap: normal
}

pre code,pre tt {
    display: inline;
    max-width: initial;
    padding: 0;
    margin: 0;
    overflow: initial;
    line-height: inherit;
    word-wrap: normal;
    background-color: transparent;
    border: 0
}

pre code:before,pre code:after,pre tt:before,pre tt:after {
    content: normal
}


</style>
<title>Métodos (API)</title>
<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax:{inlineMath:[['$$$','$$$']]}});</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<h1>Métodos (API)</h1>

<h2>Indice:</h2>

<ul>
<li>API

<ul>
<li><a href="#stats">/stats</a></li>
<li><a href="#ping">/ping</a></li>
<li><a href="#api_get">/api/get</a></li>
<li><a href="#api_set">/api/set</a></li>
<li><a href="[#api_node]">/api/node</a></li>
<li><a href="#api_node_hash">/api/node/hash</a></li>
<li><a href="#api_node_health">/api/node/health</a></li>
<li><a href="#api_node_lock">/api/node/lock</a></li>
<li><a href="#api_node_unlock">/api/node/unlock</a></li>
<li><a href="#api_nodes">/api/nodes</a></li>
<li><a href="#api_nodes_cache">/api/nodes/cache</a></li>
<li><a href="#api_nodes_alive">/api/nodes/alive</a></li>
<li><a href="#api_nodes_alive_health">/api/nodes/alive/health</a></li>
<li><a href="#api_nodes_fallen">/api/nodes/fallen</a></li>
<li><a href="#api_nodes_availables">/api/nodes/availables</a></li>
<li><a href="#api_nodes_hash">/api/nodes/hash</a></li>
<li><a href="#api_nodes_canonical">/api/nodes/canonical</a></li>
</ul>
</li>
<li><a href="#web_socket">Web Socket</a></li>
</ul>


<h2><span id="stats">/stats</span></h2>

<p>Devuleve un conjunto de información relacionada al estado del servidor.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/stats
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "health": {
      "details": {
        "mission_control": true,
        "mission_control_channel": true,
        "publisher": true,
        "scope": {
          "nodes": {
            "alive": [

            ],
            "fallen": [

            ]
          }
        },
        "uptime": {
          "epoch": {
            "check": 1471385972.663555,
            "start": 1471385965.011688,
            "uptime": 7.651866912841797
          },
          "uptime": {
            "check": "2016-08-16T22:19:32.663555",
            "info": {
              "days": 0,
              "hours": 0,
              "minutes": 0,
              "seconds": 7
            },
            "start": "2016-08-16T22:19:25.011688"
          }
        }
      },
      "status": true
    },
    "uptime": {
      "epoch": {
        "check": 1471385972.663574,
        "start": 1471385965.011688,
        "uptime": 7.651885986328125
      },
      "uptime": {
        "check": "2016-08-16T22:19:32.663574",
        "info": {
          "days": 0,
          "hours": 0,
          "minutes": 0,
          "seconds": 7
        },
        "start": "2016-08-16T22:19:25.011688"
      }
    }
  }
}
</code></pre>

<h2><span id="ping">/ping</span></h2>

<p>Devuelve un mensaje predefinido en la configuración del servidor como respuesta a la petición.</p>

<p>Dentro del archivo <code>sinthius_octopus/settings.py</code>, se debe definir una constante <code>PING_RESPONSE</code> y asignarle una valor como <code>string</code>.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/ping
// Content-Type:text/plain; charset=UTF-8

hello kitty, =^.^=
</code></pre>

<h2><span id="api_get">/api/get</span></h2>

<p>Devuelve la información y estado de un <code>nodo</code> especifico.</p>

<blockquote><p>No soporta lista de nodos.</p></blockquote>

<h3>Argumentos:</h3>

<ul>
<li><strong>node</strong> (<code>string</code>) = Identificador del nodo

<ul>
<li><code>ex: node:192.168.0.12:4001</code></li>
</ul>
</li>
</ul>


<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/get?node=node:192.168.0.12:4001
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "hash": "fd8c7bf493a1aa388199af8900d4517e8e16981c52a0da842724343eb5a0aff1",
    "health": {
      "details": {
        "mission_control": true,
        "mission_control_channel": true,
        "publisher": true,
        "scope": {
          "nodes": {
            "alive": [
              "node:192.168.0.12:4000",
              "node:192.168.0.12:4002"
            ],
            "fallen": [

            ]
          }
        },
        "uptime": {
          "epoch": {
            "check": 1471389063.300029,
            "start": 1471389059.079493,
            "uptime": 4.22053599357605
          },
          "uptime": {
            "check": "2016-08-16T23:11:03.300029",
            "info": {
              "days": 0,
              "hours": 0,
              "minutes": 0,
              "seconds": 4
            },
            "start": "2016-08-16T23:10:59.079493"
          }
        }
      },
      "status": true
    },
    "ip": "192.168.0.12",
    "locked": false,
    "mode": 0,
    "name": null,
    "node": "node:192.168.0.12:4001",
    "port": 4001,
    "priority": 0,
    "updating": null
  }
}
</code></pre>

<h2><span id="api_set">/api/set</span></h2>

<p>Configura todos los <code>clientes</code> asociados a un <code>nodo</code>, con la infoprmación especificada en el argumento <code>data</code>.</p>

<p>La información debe ser estar formateada en <code>json</code> como un <code>string</code>. La misma no repercute dentro del <code>nodo</code>, este, sólo la propaga al resto de los <code>clietes</code> conectados vía <code>socket</code>.</p>

<p>Por lo general devolverá una respuesta vacía, en caso de <code>error</code> este se verá reflejado en la respuesta.</p>

<h3>Argumentos:</h3>

<ul>
<li><strong>data</strong> (<code>string</code>) = Configuración (<code>json</code>)

<ul>
<li><code>ex: "{'data1': 'value', 'data2': [1, 2, 3]}"</code></li>
</ul>
</li>
</ul>


<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/set?data={%27data%27:%27json-data%27}
// Content-Type: application/json; charset=UTF-8

{}
</code></pre>

<h2><span id="api_node">/api/node</span></h2>

<p>Devuleve la información completa de la <code>configuración</code> del <code>nodo</code>.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/node
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "hash": "5c0f5e5ae05372e5d3a233f6a4312c80ba247eb37841c9cf251d5b805053ba08",
    "ip": "192.168.0.12",
    "locked": false,
    "mode": 0,
    "name": null,
    "node": "node:192.168.0.12:4000",
    "port": 4000,
    "priority": 0,
    "updating": null
  }
}
</code></pre>

<h2><span id="api_node_hash">/api/node/hash</span></h2>

<p>Devuelve el valor <code>hash</code> del <code>nodo</code>.</p>

<blockquote><p>Esto está pensado para una versión posterior que posee una capa de seguridad aplicada. De momento no posee utilidad alguna.</p></blockquote>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/node/hash
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "hash": "5c0f5e5ae05372e5d3a233f6a4312c80ba247eb37841c9cf251d5b805053ba08"
  }
}
</code></pre>

<h2><span id="api_node_health">/api/node/health</span></h2>

<p>Esta método es similar al <code>/stats</code>, salvo que se agrega la información completa de la <code>configuración</code> del <code>nodo</code>.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/node/health
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "hash": "5c0f5e5ae05372e5d3a233f6a4312c80ba247eb37841c9cf251d5b805053ba08",
    "health": {
      "details": {
        "mission_control": true,
        "mission_control_channel": true,
        "publisher": true,
        "scope": {
          "nodes": {
            "alive": [
              "node:192.168.0.12:4001",
              "node:192.168.0.12:4002"
            ],
            "fallen": [

            ]
          }
        },
        "uptime": {
          "epoch": {
            "check": 1471391413.796157,
            "start": 1471388042.158525,
            "uptime": 3371.637631893158
          },
          "uptime": {
            "check": "2016-08-16T23:50:13.796157",
            "info": {
              "days": 0,
              "hours": 0,
              "minutes": 56,
              "seconds": 11
            },
            "start": "2016-08-16T22:54:02.158525"
          }
        }
      },
      "status": true
    },
    "ip": "192.168.0.12",
    "locked": false,
    "mode": 0,
    "name": null,
    "node": "node:192.168.0.12:4000",
    "port": 4000,
    "priority": 0,
    "updating": null
  }
}
</code></pre>

<h2><span id="api_node_lock">/api/node/lock</span></h2>

<p>Método que permite bloquear el <code>nodo</code> para que no pueda ser alterado.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/node/lock
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "lock": true
  }
}
</code></pre>

<h2><span id="api_node_unlock">/api/node/unlock</span></h2>

<p>Método que permite desbloquear el <code>nodo</code> para que pueda ser alterado.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/node/unlock
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "unlock": true
  }
}
</code></pre>

<h2><span id="api_nodes">/api/nodes</span></h2>

<p>Devuleve una lista con los <code>identificadores</code> de todos los <code>nodos</code> que se encuentran como <code>alive</code> y <code>fallen</code>.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/nodes
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "alive": {
      "nodes": [
        "node:192.168.0.12:4001",
        "node:192.168.0.12:4002"
      ],
      "total": 2
    },
    "fallen": {
      "nodes": [

      ],
      "total": 0
    }
  }
}
</code></pre>

<h2><span id="api_nodes_cache">/api/nodes/cache</span></h2>

<p>Devuelve una lista de todos los <code>nodos</code>, con la información completa de la <code>configuración</code> de cada uno.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/nodes/cache
// Content-Type: application/json; charset=UTF-8

{
  "response": [
    {
      "hash": "fd8c7bf493a1aa388199af8900d4517e8e16981c52a0da842724343eb5a0aff1",
      "name": null,
      "ip": "192.168.0.12",
      "priority": 0,
      "mode": 0,
      "locked": false,
      "port": 4001,
      "updating": null
    },
    {
      "hash": "bbdb0ab689c05c7ba71423800ec19e6ae7fb0de3929df8e303b389a2495fa738",
      "name": null,
      "ip": "192.168.0.12",
      "priority": 0,
      "mode": 0,
      "locked": false,
      "port": 4002,
      "updating": null
    }
  ]
}
</code></pre>

<h2><span id="api_nodes_alive">/api/nodes/alive</span></h2>

<p>Devuleve una lista con los <code>identificadores</code> de todos los <code>nodos</code> que se encuentran como <code>alive</code>.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/nodes/alive
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "alive": {
      "list": [
        "node:192.168.0.12:4001",
        "node:192.168.0.12:4002"
      ],
      "total": 2
    }
  }
}
</code></pre>

<h2><span id="api_nodes_alive_health">/api/nodes/alive/health</span></h2>

<p>Devuleve una lista con información y estado de todos los <code>nodos</code> que se encuentran como <code>alive</code>.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/nodes/alive/health
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "alive": {
      "nodes": [
        {
          "hash": "fd8c7bf493a1aa388199af8900d4517e8e16981c52a0da842724343eb5a0aff1",
          "health": {
            "details": {
              "mission_control": true,
              "mission_control_channel": true,
              "publisher": true,
              "scope": {
                "nodes": {
                  "alive": [
                    "node:192.168.0.12:4000",
                    "node:192.168.0.12:4002"
                  ],
                  "fallen": [

                  ]
                }
              },
              "uptime": {
                "epoch": {
                  "check": 1471391744.67777,
                  "start": 1471389059.079493,
                  "uptime": 2685.5982768535614
                },
                "uptime": {
                  "check": "2016-08-16 23:55:44.677770",
                  "info": {
                    "days": 0,
                    "hours": 0,
                    "minutes": 44,
                    "seconds": 45
                  },
                  "start": "2016-08-16 23:10:59.079493"
                }
              }
            },
            "status": true
          },
          "ip": "192.168.0.12",
          "locked": false,
          "mode": 0,
          "name": null,
          "node": "node:192.168.0.12:4001",
          "port": 4001,
          "priority": 0,
          "updating": null
        },
        {
          "hash": "bbdb0ab689c05c7ba71423800ec19e6ae7fb0de3929df8e303b389a2495fa738",
          "health": {
            "details": {
              "mission_control": true,
              "mission_control_channel": true,
              "publisher": true,
              "scope": {
                "nodes": {
                  "alive": [
                    "node:192.168.0.12:4000",
                    "node:192.168.0.12:4001"
                  ],
                  "fallen": [

                  ]
                }
              },
              "uptime": {
                "epoch": {
                  "check": 1471391744.683141,
                  "start": 1471389047.740745,
                  "uptime": 2696.942395925522
                },
                "uptime": {
                  "check": "2016-08-16 23:55:44.683141",
                  "info": {
                    "days": 0,
                    "hours": 0,
                    "minutes": 44,
                    "seconds": 56
                  },
                  "start": "2016-08-16 23:10:47.740745"
                }
              }
            },
            "status": true
          },
          "ip": "192.168.0.12",
          "locked": false,
          "mode": 0,
          "name": null,
          "node": "node:192.168.0.12:4002",
          "port": 4002,
          "priority": 0,
          "updating": null
        }
      ],
      "total": 2
    }
  }
}
</code></pre>

<h2><span id="api_nodes_fallen">/api/nodes/fallen</span></h2>

<p>Devuleve una lista con los <code>identificadores</code> de todos los <code>nodos</code> que se encuentran como <code>fallen</code>.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/nodes/fallen
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "fallen": {
      "nodes": [

      ],
      "total": 0
    }
  }
}
</code></pre>

<h2><span id="api_nodes_availables">/api/nodes/availables</span></h2>

<p>Este método esta pensado para listar todo los <code>nodos</code> diponibles para ser configurados con el método <code>{node-ip-port}/api/set?data={'key': 'value'}</code>.</p>

<p>Devuelve una lista con la información completa de la <code>configuración</code> de cada <code>nodos</code> disponibles.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/nodes/availables
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "availables": {
      "nodes": [
        [
          0,
          {
            "hash": "bbdb0ab689c05c7ba71423800ec19e6ae7fb0de3929df8e303b389a2495fa738",
            "ip": "192.168.0.12",
            "locked": false,
            "mode": 0,
            "name": null,
            "port": 4002,
            "priority": 0,
            "updating": null
          }
        ],
        [
          0,
          {
            "hash": "fd8c7bf493a1aa388199af8900d4517e8e16981c52a0da842724343eb5a0aff1",
            "ip": "192.168.0.12",
            "locked": false,
            "mode": 0,
            "name": null,
            "port": 4001,
            "priority": 0,
            "updating": null
          }
        ]
      ],
      "total": 2
    }
  }
}
</code></pre>

<h2><span id="api_nodes_hash">/api/nodes/hash</span></h2>

<p>Devuleve una lista con los <code>hashes</code> de todos los <code>nodos</code> que se encuentran como <code>alive</code> y <code>fallen</code>.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/nodes/hash
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "alive": {
      "nodes": {
        "node:192.168.0.12:4001": "fd8c7bf493a1aa388199af8900d4517e8e16981c52a0da842724343eb5a0aff1",
        "node:192.168.0.12:4002": "bbdb0ab689c05c7ba71423800ec19e6ae7fb0de3929df8e303b389a2495fa738"
      },
      "total": 2
    },
    "fallen": {
      "nodes": {

      },
      "total": 0
    }
  }
}
</code></pre>

<h2><span id="api_nodes_canonical">/api/nodes/canonical</span></h2>

<p>Devuleve una lista con los valores <code>ip</code> y <code>port</code> de todos los <code>nodos</code> que se encuentran como <code>alive</code> y <code>fallen</code>.</p>

<p><strong>Respuesta</strong></p>

<pre><code>// http://localhost:4000/api/nodes/canonical
// Content-Type: application/json; charset=UTF-8

{
  "response": {
    "alive": {
      "nodes": {
        "node:192.168.0.12:4001": {
          "ip": "192.168.0.12",
          "port": 4001
        },
        "node:192.168.0.12:4002": {
          "ip": "192.168.0.12",
          "port": 4002
        }
      },
      "total": 2
    },
    "fallen": {
      "nodes": {

      },
      "total": 0
    }
  }
}
</code></pre>

<hr />

<h1><span id="web_socket">Web Socket</span></h1>

<p>Por medio de una conexión vía <code>socket</code>, el <code>nodo</code> podrá notificale a los <code>clientes</code> los cambios que se soliciten mediante el métod <code>/ap/set</code>.</p>

<h2>Ejemplo:</h2>

<pre><code>
var ws = new WebSocket("ws://localhost:4000/ws/observer");

ws.onopen = function() {
   ws.send('{"key": "value"}');
};

ws.onmessage = function (evt) {
   alert(evt.data);
};
</code></pre>
</body>
</html>